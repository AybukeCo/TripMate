<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TripMate</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap" rel="stylesheet">

</head>
    <body>
    <%- include("partials/banner") %>
    <section class="profile-section">
        <h4>Profile</h4>
        <div class="profile-card">
            <div class="profile-img"></div>
            <div class="profile-username">
                <p><%= username %></p>
            </div>
        </div>

        <form class="profile-input-group" action="/profile" method="post">
            <label for="profile-name">Name</label>
            <input id="profile-name" class="profile-input" name="username" type="text" value=<%= username %> disabled>
            <label for="profile-email">Email</label>
            <input id="profile-email" type="email" name="email" value=<%= email %> disabled>
            <label for="profile-pwd">Passwords</label>
            <input id="profile-pwd" class="profile-input" type="password" name="password" value=<%= password %> disabled>
            <button class="save-profile-btn" id="save-profile-btn" onclick="saveProfile()" type="submit">Save</button>
        </form>
        <button class="edit-profile-btn" onclick="editProfile()">Edit</button>

    </section>
    <a href="/logout" id="logout"><button class="logout-btn">Logout</button></a>
    <% if (error) { %>
        <script>alert("<%= error %>")</script>
    <% } %>

    <% if (success) { %>
        <script>
            alert("<%= success %>")
            setTimeout(()=>{
                window.location.href="/profile";
            },500);
        </script>
    <% } %>

    <%- include("partials/navbar") %>
    <script src="/js/profile.js"></script>
    </body>
</html>
